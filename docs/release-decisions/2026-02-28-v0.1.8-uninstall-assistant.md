# Release Decision: v0.1.8 (Uninstall Assistant)

## Data

- 2026-02-28

## Contexto

- O Dexter precisava de um fluxo profissional de desinstalacao, sem shell arbitrario no renderer e com degradacao segura em ambientes Linux heterogeneos.
- O objetivo foi entregar uninstall governado, auditavel e consistente com o modelo de seguranca ja aplicado ao runtime/modelos.

## Escopo aprovado para v0.1.8

- Novo `UninstallService` no processo principal com estrategia Linux:
  - `pkexec-helper` -> `pkexec` -> `sudo -n` -> assistido/manual.
- Token obrigatorio de confirmacao: `UNINSTALL DEXTER`.
- Escopos de uninstall:
  - pacote Dexter (`remove` ou `purge`);
  - limpeza opcional de dados locais do Dexter;
  - limpeza opcional de runtime Ollama no sistema;
  - limpeza opcional de dados Ollama do usuario (`~/.ollama`).
- Expansao do helper Linux whitelistado com acoes dedicadas de uninstall.
- Contratos IPC/preload/API compartilhados para uninstall.
- Card de `Uninstall` no painel `Governanca` com UX guiada e auditoria (`uninstall.assistant.finish`).

## Validacao executada

- `npm run quality:ci`
- `npm run test:e2e`
- `npm run dist`

Resultado: aprovados sem falhas no fechamento da release.

## Risco residual conhecido

- Hosts Linux sem `pkexec` e sem `sudo` permanecem em modo assistido/manual por design.
- Limpeza de dados locais depende de permissao de filesystem no usuario atual (warnings sao retornados ao inves de abortar uninstall principal).

## Rollback

- Reinstalar versao anterior conhecida:
  - `sudo apt-get install dexter=0.1.7`
- Se necessario, limpar estado local manualmente:
  - `rm -rf ~/.config/dexter ~/.cache/dexter ~/.local/share/dexter`
